//==============================================================================
// AXI4 Virtual Error Sequence
// Generated by AMBA Bus Matrix Configuration Tool
// Date: 2025-08-04 09:53:21
//==============================================================================

class axi4_virtual_error_seq extends axi4_virtual_base_seq;
    
    `uvm_object_utils(axi4_virtual_error_seq)
    
    // Error scenarios to test
    bit test_slave_errors = 1;
    bit test_decode_errors = 1;
    bit test_exclusive_errors = 1;
    
    // Constructor
    function new(string name = "axi4_virtual_error_seq");
        super.new(name);
    endfunction
    
    // Body method
    virtual task body();
        `uvm_info(get_type_name(), "Starting virtual error sequence", UVM_MEDIUM)
        
        // Test different error scenarios
        if (test_decode_errors) begin
            // Access unmapped address
            test_decode_error();
        end
        
        if (test_slave_errors) begin
            // Force slave errors
            test_slave_error_response();
        end
        
        if (test_exclusive_errors) begin
            // Test exclusive access failures
            test_exclusive_access_error();
        end
    endtask : body
    
    // Test decode error
    task test_decode_error();
        axi4_master_tx tx;
        
        `uvm_info(get_type_name(), "Testing decode error", UVM_MEDIUM)
        
        `uvm_do_on_with(tx, p_sequencer.master_seqr[0], {
            tx.tx_type == axi4_master_tx::WRITE;
            tx.awaddr == 'hDEADBEEF; // Unmapped address
        })
    endtask
    
    // Test slave error response
    task test_slave_error_response();
        // Configure slave to return errors
        `uvm_info(get_type_name(), "Testing slave error response", UVM_MEDIUM)
        // Implementation depends on slave configuration
    endtask
    
    // Test exclusive access error
    task test_exclusive_access_error();
        `uvm_info(get_type_name(), "Testing exclusive access error", UVM_MEDIUM)
        // Implementation for exclusive access testing
    endtask
    
endclass : axi4_virtual_error_seq
