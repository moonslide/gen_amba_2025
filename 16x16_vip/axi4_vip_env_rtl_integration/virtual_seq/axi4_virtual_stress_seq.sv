//==============================================================================
// AXI4 Virtual Stress Sequence
// Generated by AMBA Bus Matrix Configuration Tool
// Date: 2025-08-04 09:53:21
//==============================================================================

class axi4_virtual_stress_seq extends axi4_virtual_base_seq;
    
    `uvm_object_utils(axi4_virtual_stress_seq)
    
    // Parameters
    int num_iterations = 100;
    bit enable_backpressure = 0;
    
    // Constructor
    function new(string name = "axi4_virtual_stress_seq");
        super.new(name);
    endfunction
    
    // Body method
    virtual task body();
        axi4_master_random_seq random_seq[16];
        
        `uvm_info(get_type_name(), "Starting virtual stress sequence for 16 masters", UVM_MEDIUM)
        
        // Start random sequences on all 16 masters concurrently using loop
        for(int i = 0; i < 16; i++) begin
            fork
                automatic int idx = i;
                begin
                    random_seq[idx] = axi4_master_random_seq::type_id::create($sformatf("random_seq_%0d", idx));
                    random_seq[idx].num_trans = num_iterations;
                    random_seq[idx].start(p_sequencer.master_seqr[idx]);
                end
            join_none
        end
        
        // Wait for all sequences to complete
        wait fork;
    endtask : body
    
endclass : axi4_virtual_stress_seq
