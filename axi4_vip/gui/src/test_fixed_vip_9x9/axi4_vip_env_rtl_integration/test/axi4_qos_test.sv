//==============================================================================
// AXI4 QoS Test
// Generated by AMBA Bus Matrix Configuration Tool
// Date: 2025-08-04 09:38:37
//==============================================================================

class axi4_qos_test extends axi4_base_test;
    
    `uvm_component_utils(axi4_qos_test)
    
    // Constructor
    function new(string name = "axi4_qos_test", uvm_component parent = null);
        super.new(name, parent);
    endfunction
    
    // Run phase
    task run_phase(uvm_phase phase);
        axi4_master_qos_seq qos_seq_high, qos_seq_low;
        
        phase.raise_objection(this);
        
        `uvm_info(get_type_name(), "Starting QoS test", UVM_LOW)
        
        // Test QoS arbitration with different priorities
        fork
            begin
                qos_seq_high = axi4_master_qos_seq::type_id::create("qos_seq_high");
                qos_seq_high.qos_value = 4'hF; // Highest priority
                qos_seq_high.num_trans = 10;
                qos_seq_high.start(env.master_agent[0].sequencer);
            end
            begin
                qos_seq_low = axi4_master_qos_seq::type_id::create("qos_seq_low");
                qos_seq_low.qos_value = 4'h0; // Lowest priority
                qos_seq_low.num_trans = 10;
                qos_seq_low.start(env.master_agent[1].sequencer);
            end
        join
        
        `uvm_info(get_type_name(), "Completed QoS test", UVM_LOW)
        
        phase.drop_objection(this);
    endtask
    
endclass : axi4_qos_test
