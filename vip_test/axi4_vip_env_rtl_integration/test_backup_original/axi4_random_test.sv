//==============================================================================
// AXI4 Random Test
// Generated by AMBA Bus Matrix Configuration Tool
// Date: 2025-07-29 09:33:31
//==============================================================================

class axi4_random_test extends axi4_base_test;
    
    `uvm_component_utils(axi4_random_test)
    
    // Constructor
    function new(string name = "axi4_random_test", uvm_component parent = null);
        super.new(name, parent);
    endfunction
    
    // Run phase
    task run_phase(uvm_phase phase);
        axi4_master_random_seq random_seq;
        int num_transactions = 100;
        
        phase.raise_objection(this);
        
        `uvm_info(get_type_name(), $sformatf("Starting random test with %0d transactions", num_transactions), UVM_LOW)
        
        // Run random sequences on all masters
        fork
            begin
                random_seq = axi4_master_random_seq::type_id::create("random_seq0");
                random_seq.num_trans = num_transactions;
                random_seq.start(env.master_agent[0].sequencer);
            end
            begin
                random_seq = axi4_master_random_seq::type_id::create("random_seq1");
                random_seq.num_trans = num_transactions;
                random_seq.start(env.master_agent[1].sequencer);
            end
        join
        
        `uvm_info(get_type_name(), "Completed random test", UVM_LOW)
        
        phase.drop_objection(this);
    endtask
    
endclass : axi4_random_test
